(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9641:function(e,t,r){Promise.resolve().then(r.bind(r,3065)),Promise.resolve().then(r.bind(r,3272)),Promise.resolve().then(r.t.bind(r,936,23)),Promise.resolve().then(r.t.bind(r,8877,23))},3065:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return GlobalLoader}});var n=r(7437),s=r(2265),a=r(5267);function GlobalLoader(){let[e,t]=(0,s.useState)(!1),r=(0,s.useCallback)(e=>{t(e)},[]);return((0,s.useEffect)(()=>{t((0,a.RF)());let e=(0,a.Yb)(r);return()=>{e()}},[r]),e)?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col items-center bg-white rounded-2xl shadow-2xl p-8 max-w-sm mx-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-gray-200"}),(0,n.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-transparent border-t-primary-600 absolute top-0 left-0"})]}),(0,n.jsxs)("div",{className:"mt-6 text-center",children:[(0,n.jsx)("p",{className:"text-gray-800 font-semibold text-lg",children:"Processing..."}),(0,n.jsx)("p",{className:"mt-2 text-gray-600 text-sm",children:"Please wait while we handle your request"})]}),(0,n.jsxs)("div",{className:"mt-4 flex space-x-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce"}),(0,n.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,n.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):null}},3272:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return TopBar}});var n=r(7437),s=r(4033),a=r(9727),o=r(2265);function TopBar(){let e=(0,s.useRouter)(),t=(0,s.usePathname)(),[r,i]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{i(!!(0,a.bW)())},[t]),"/"===t||"/login"===t||"/signup"===t)?null:(0,n.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-gray-200",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2 flex items-center justify-between",children:[(0,n.jsxs)("button",{onClick:()=>e.back(),className:"inline-flex items-center text-sm text-gray-700 hover:text-gray-900",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),r&&(0,n.jsxs)("button",{onClick:()=>{(0,a.H6)(),e.push("/")},className:"inline-flex items-center text-sm text-red-600 hover:text-red-700",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h4a2 2 0 012 2v1"})}),"Logout"]})]})})}},9727:function(e,t,r){"use strict";r.d(t,{H6:function(){return removeAuthToken},bW:function(){return getAuthToken},kv:function(){return a},uB:function(){return setAuthToken}});var n=r(4771),s=r(1490);r(2265);let a={login:async(e,t)=>{let r=await n.Z.post("/auth/login",{email:e,password:t});return r.data},register:async(e,t,r,s)=>{let a=await n.Z.post("/auth/register",{name:e,email:t,password:r,role:s});return a.data},getCurrentUser:async()=>{let e=s.Z.get("token"),t=await n.Z.get("/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});return t.data}},setAuthToken=e=>{s.Z.set("token",e,{expires:7})},removeAuthToken=()=>{s.Z.remove("token")},getAuthToken=()=>s.Z.get("token")},4771:function(e,t,r){"use strict";var n=r(4829),s=r(1490),a=r(5267);let o=n.Z.create({baseURL:"https://kretoss-task.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{var t;(null===(t=e.url)||void 0===t?void 0:t.includes("health"))||(0,a.VO)();let r=s.Z.get("token");return r&&(e.headers||(e.headers={}),e.headers.Authorization||(e.headers.Authorization="Bearer ".concat(r))),e},e=>((0,a.Gx)(),Promise.reject(e))),o.interceptors.response.use(e=>((0,a.Gx)(),e),e=>{var t;return(0,a.Gx)(),(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(s.Z.remove("token"),window.location.href="/"),Promise.reject(e)}),t.Z=o},5267:function(e,t,r){"use strict";r.d(t,{Gx:function(){return hideLoader},RF:function(){return isLoaderVisible},VO:function(){return showLoader},Yb:function(){return subscribeLoader}});let n=!1,s=new Set;function showLoader(){n||(n=!0,s.forEach(e=>e(!0)))}function hideLoader(){n&&(n=!1,s.forEach(e=>e(!1)))}function subscribeLoader(e){return s.add(e),()=>s.delete(e)}function isLoaderVisible(){return n}},8877:function(){},936:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[745,971,864,744],function(){return e(e.s=9641)}),_N_E=e.O()}]);