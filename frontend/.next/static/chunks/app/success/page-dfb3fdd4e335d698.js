(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{5498:function(e,n,t){Promise.resolve().then(t.bind(t,9128))},9128:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return SuccessPage}});var r=t(7437),s=t(2265),o=t(4033),c=t(4771);function SuccessPage(){let e=(0,o.useSearchParams)(),n=(0,o.useRouter)();return(0,s.useEffect)(()=>{let confirm=async()=>{let n=e.get("session_id");if(console.log("Success page - Session ID:",n),!n){console.log("No session ID found");return}try{console.log("Confirming payment for session:",n),await c.Z.post("/checkout/confirm",{sessionId:n}),console.log("Payment confirmed successfully")}catch(e){console.error("Payment confirmation error:",e)}};confirm()},[e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-green-50",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-green-700",children:"Payment Successful!"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Your booking has been confirmed."}),(0,r.jsx)("button",{onClick:()=>n.push("/user"),className:"mt-6 btn-primary",children:"Go to Events"})]})})}},4771:function(e,n,t){"use strict";var r=t(4829),s=t(1490),o=t(5267);let c=r.Z.create({baseURL:"https://kretoss-task.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{var n;(null===(n=e.url)||void 0===n?void 0:n.includes("health"))||(0,o.VO)();let t=s.Z.get("token");if(t){let n=e.headers||{};n.Authorization="Bearer ".concat(t),e.headers=n}return e},e=>((0,o.Gx)(),Promise.reject(e))),c.interceptors.response.use(e=>((0,o.Gx)(),e),e=>{var n;return(0,o.Gx)(),(null===(n=e.response)||void 0===n?void 0:n.status)===401&&(s.Z.remove("token"),window.location.href="/"),Promise.reject(e)}),n.Z=c},5267:function(e,n,t){"use strict";t.d(n,{Gx:function(){return hideLoader},RF:function(){return isLoaderVisible},VO:function(){return showLoader},Yb:function(){return subscribeLoader}});let r=!1,s=new Set;function showLoader(){r||(r=!0,s.forEach(e=>e(!0)))}function hideLoader(){r&&(r=!1,s.forEach(e=>e(!1)))}function subscribeLoader(e){return s.add(e),()=>s.delete(e)}function isLoaderVisible(){return r}}},function(e){e.O(0,[745,971,864,744],function(){return e(e.s=5498)}),_N_E=e.O()}]);